(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[636],{928:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});var s=n(5155),r=n(2115),i=n(7532),a=n(5149),l=n(8232),o=n(2369);function c(){let[e,t]=(0,r.useState)(""),[n,c]=(0,r.useState)(""),[d,u]=(0,r.useState)("Beginner"),[x,m]=(0,r.useState)([]),[p,b]=(0,r.useState)(null),[g,h]=(0,r.useState)("Create your ZEVO profile to unlock chat and group features.");return(0,r.useEffect)(()=>{let e=(0,o.E$)();e&&(b(e),t(e.name),c(e.city),u(e.skillLevel),m(e.interests))},[]),(0,s.jsxs)(a.q,{children:[(0,s.jsxs)("section",{className:"mb-6 rounded-3xl border border-zinc-800 bg-zinc-900/70 p-6",children:[(0,s.jsx)("h1",{className:"text-3xl font-black",children:"Profile"}),(0,s.jsx)("p",{className:"mt-2 text-sm text-zinc-400",children:"Sign up or log in, then set your player identity and interests."})]}),(0,s.jsx)("section",{className:"mb-6",children:(0,s.jsx)(i.X,{title:"Sign Up / Login",subtitle:"Account access now lives inside Profile. No separate auth page is needed."})}),(0,s.jsxs)("section",{className:"mb-6 rounded-3xl border border-zinc-800 bg-zinc-900/70 p-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-black",children:"Create Your Player Profile"}),(0,s.jsx)("p",{className:"mt-2 text-sm text-zinc-400",children:"Set your interests and level for personalized arena discovery and group matching."}),(0,s.jsx)("p",{className:"mt-3 text-xs text-zinc-300",children:g})]}),(0,s.jsxs)("section",{className:"grid gap-6 lg:grid-cols-2",children:[(0,s.jsxs)("div",{className:"space-y-4 rounded-2xl border border-zinc-800 bg-zinc-900/70 p-4",children:[(0,s.jsx)("input",{value:e,onChange:e=>t(e.target.value),placeholder:"Your name",className:"w-full rounded-xl border border-zinc-700 bg-zinc-800 px-3 py-2 text-sm text-zinc-100 outline-none focus:border-neon"}),(0,s.jsx)("input",{value:n,onChange:e=>c(e.target.value),placeholder:"Your city",className:"w-full rounded-xl border border-zinc-700 bg-zinc-800 px-3 py-2 text-sm text-zinc-100 outline-none focus:border-neon"}),(0,s.jsxs)("select",{value:d,onChange:e=>u(e.target.value),className:"w-full rounded-xl border border-zinc-700 bg-zinc-800 px-3 py-2 text-sm text-zinc-100 outline-none focus:border-neon",children:[(0,s.jsx)("option",{children:"Beginner"}),(0,s.jsx)("option",{children:"Intermediate"}),(0,s.jsx)("option",{children:"Advanced"})]}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:l.gu.map(e=>{let t=x.includes(e);return(0,s.jsx)("button",{type:"button",onClick:()=>{m(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},className:"rounded-full border px-3 py-1 text-xs transition ".concat(t?"border-neon bg-neon text-zinc-900":"border-zinc-700 bg-zinc-800 text-zinc-300 hover:border-zinc-500"),children:e},e)})}),(0,s.jsx)("button",{type:"button",onClick:()=>{var t,s;if(!e.trim())return void h("Name is required.");let r=new Date().toISOString(),i={name:e.trim(),city:n.trim(),skillLevel:d,interests:x,profileId:null!=(t=null==p?void 0:p.profileId)?t:"zevo_".concat(crypto.randomUUID()),createdAt:null!=(s=null==p?void 0:p.createdAt)?s:r,updatedAt:r};(0,o.Lt)(i),b(i),h("Profile saved. Public Chat and Group are now available in navbar.")},className:"w-full rounded-xl bg-neon px-4 py-2 text-sm font-bold text-zinc-900",children:"Save Profile"})]}),(0,s.jsxs)("div",{className:"rounded-2xl border border-zinc-800 bg-zinc-900/70 p-4",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold",children:"Saved Profile"}),p?(0,s.jsxs)("div",{className:"mt-3 space-y-1 text-sm text-zinc-300",children:[(0,s.jsxs)("p",{children:["Name: ",p.name]}),(0,s.jsxs)("p",{children:["City: ",p.city||"Not added"]}),(0,s.jsxs)("p",{children:["Skill: ",p.skillLevel]}),(0,s.jsxs)("p",{children:["Interests: ",p.interests.length?p.interests.join(", "):"Not added"]}),(0,s.jsxs)("p",{className:"text-xs text-zinc-500",children:["Updated: ",new Date(p.updatedAt).toLocaleString()]})]}):(0,s.jsx)("p",{className:"mt-3 text-sm text-zinc-400",children:"No profile saved yet."})]})]})]})}},7532:(e,t,n)=>{"use strict";n.d(t,{X:()=>o});var s=n(5155),r=n(2115),i=n(63),a=n(1839),l=n(8525);function o(e){var t;let{title:n="Login / Signup",subtitle:o="Use your email and password to access ZEVO chat and protected features.",className:c=""}=e,d=(0,i.useRouter)(),{user:u,loading:x}=(0,a.J)(),[m,p]=(0,r.useState)(""),[b,g]=(0,r.useState)(""),[h,f]=(0,r.useState)("Create an account or log in to continue."),[z,y]=(0,r.useState)(!1),[N,v]=(0,r.useState)(!1);(0,r.useEffect)(()=>{!x&&u&&N&&(d.push("/chat"),d.refresh())},[x,N,u,d]);let j=async()=>{if(z)return;let e=m.trim();if(!e||!b)return void f("Email and password are required.");try{y(!0),v(!0),console.log("Attempting signup for:",e);let{data:t,error:n}=await l.N.auth.signUp({email:e,password:b});if(n){if(console.log("Supabase signup error:",n.message,n),n.message.toLowerCase().includes("email rate limit exceeded")){f("Account created! Please wait 5 minutes before your first login due to security limits."),v(!1),y(!1);return}f(n.message),v(!1),y(!1);return}if(t.user){let{error:t}=await l.N.auth.signInWithPassword({email:e,password:b});if(t){if(console.log("Supabase auto-login after signup error:",t.message,t),t.message.toLowerCase().includes("email rate limit exceeded")){f("Account created! Please wait 5 minutes before your first login due to security limits."),v(!1),y(!1);return}f(t.message),v(!1),y(!1);return}}f("Welcome to Zevo!"),y(!1),d.push("/chat"),d.refresh()}catch(t){let e=t instanceof Error?t.message:String(t);if(console.log("Supabase signup catch error:",e,t),e.toLowerCase().includes("email rate limit exceeded")){f("Account created! Please wait 5 minutes before your first login due to security limits."),v(!1),y(!1);return}f(e),v(!1),y(!1)}},w=async()=>{if(z)return;let e=m.trim();if(!e||!b)return void f("Email and password are required.");y(!0),v(!0);let{error:t}=await l.N.auth.signInWithPassword({email:e,password:b});if(y(!1),t){f(t.message),v(!1);return}d.push("/chat"),d.refresh()},S=async()=>{if(z)return;y(!0),v(!1);let{error:e}=await l.N.auth.signOut();if(y(!1),e)return void f(e.message);f("Logged out successfully.")};return(0,s.jsxs)("article",{className:"rounded-2xl border border-zinc-800 bg-zinc-900/70 p-4 ".concat(c),children:[(0,s.jsx)("h2",{className:"text-lg font-semibold",children:n}),(0,s.jsx)("p",{className:"mt-2 text-sm text-zinc-400",children:o}),(0,s.jsx)("p",{className:"mt-2 text-xs text-zinc-300",children:x?"Checking session...":u?"Logged in as ".concat(null!=(t=u.email)?t:"ZEVO user"):h}),(0,s.jsxs)("div",{className:"mt-3 space-y-3",children:[(0,s.jsx)("input",{value:m,onChange:e=>p(e.target.value),type:"email",placeholder:"Email",className:"w-full rounded-xl border border-zinc-700 bg-zinc-800 px-3 py-2 text-sm text-zinc-100 outline-none focus:border-neon"}),(0,s.jsx)("input",{value:b,onChange:e=>g(e.target.value),type:"password",placeholder:"Password",className:"w-full rounded-xl border border-zinc-700 bg-zinc-800 px-3 py-2 text-sm text-zinc-100 outline-none focus:border-neon"}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,s.jsx)("button",{type:"button",onClick:w,disabled:z,className:"rounded-xl bg-neon px-4 py-2 text-sm font-bold text-zinc-900 disabled:opacity-60",children:"Log In"}),(0,s.jsx)("button",{type:"button",onClick:j,disabled:z,className:"rounded-xl border border-zinc-700 bg-zinc-800 px-4 py-2 text-sm font-semibold text-zinc-200 hover:border-zinc-500 disabled:opacity-60",children:"Sign Up"}),u?(0,s.jsx)("button",{type:"button",onClick:S,disabled:z,className:"rounded-xl border border-zinc-700 bg-zinc-800 px-4 py-2 text-sm font-semibold text-zinc-200 hover:border-zinc-500 disabled:opacity-60",children:"Log Out"}):null]})]})]})}},9506:(e,t,n)=>{Promise.resolve().then(n.bind(n,928))}},e=>{e.O(0,[154,373,546,441,493,358],()=>e(e.s=9506)),_N_E=e.O()}]);